(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.element,o=window.wp.components,i=window.wp.apiFetch;var n=e.n(i);const r=window.ReactJSXRuntime,d=(0,s.memo)(({attributes:e,setAttributes:t,postType:i})=>{const{field:d,tag:u,title:p,openInNewTab:b,linkToPost:c,customLink:h,isArray:x,arraySeparator:_}=e,[m,f]=(0,s.useState)([]),[g,v]=(0,s.useState)("");return(0,s.useEffect)(()=>{n()({path:`/wp/v2/${i}`}).then(e=>{if(!e.length)return void v("No posts has been added yet, add at least one post to get the fields.");const t=e[0].acf;t&&f(e=>[...e,...Object.keys(t).map(e=>`acfâ€”${e}`)])}).catch(e=>console.error(e))},[i]),(0,r.jsx)(l.InspectorControls,{group:"settings",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("fieldset",{children:[g&&(0,r.jsxs)("p",{style:{color:"red"},children:["ERROR: ",g]}),(0,r.jsx)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Field to show","theme-post-field"),value:d,options:[{value:"None",label:"None"},...m.map(e=>({value:e,label:e}))],onChange:e=>t({field:e})})]}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Use tag","theme-post-field"),value:u,options:[{value:"p",label:"p"},{value:"img",label:"img"},{value:"video",label:"video"},{value:"audio",label:"audio"},{value:"a",label:"a"},{value:"h1",label:"h1"},{value:"h2",label:"h2"},{value:"h3",label:"h3"},{value:"h4",label:"h4"},{value:"h5",label:"h5"},{value:"h6",label:"h6"},{value:"span",label:"span"},{value:"div",label:"div"},{value:"strong",label:"strong"},{value:"em",label:"em"}],onChange:e=>t({tag:e})})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Title","theme-post-field"),value:p,disabled:"img"!==u&&"a"!==u,onChange:e=>t({title:e})})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("Open in new tab","theme-post-field"),checked:b,onChange:e=>t({openInNewTab:e}),disabled:"a"!==u&&!c})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("Add link to post","theme-post-field"),checked:c,onChange:e=>t({linkToPost:e})})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Custom link (leave empty for post permalink)","theme-post-field"),value:h,disabled:!c,onChange:e=>t({customLink:e})})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("Is array (should be text field)","theme-post-field"),checked:x,onChange:e=>t({isArray:e})})}),(0,r.jsx)("fieldset",{children:(0,r.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Array separator","theme-post-field"),value:_,disabled:!x,onChange:e=>t({arraySeparator:e})})})]})})},(e,t)=>e.postType===t.postType&&e.attributes.field===t.attributes.field&&e.attributes.tag===t.attributes.tag&&e.attributes.title===t.attributes.title&&e.attributes.openInNewTab===t.attributes.openInNewTab&&e.attributes.linkToPost===t.attributes.linkToPost&&e.attributes.customLink===t.attributes.customLink&&e.attributes.isArray===t.attributes.isArray&&e.attributes.arraySeparator===t.attributes.arraySeparator),u=(0,s.memo)(({attributes:e,setAttributes:t})=>(0,r.jsx)(l.InspectorControls,{group:"styles",children:(0,r.jsx)("div",{className:"p-4"})}),(e,t)=>!0),p=JSON.parse('{"UU":"po-personal/theme-post-field"}');(0,t.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t,context:a}){const s=(0,l.useBlockProps)({className:"container"}),{field:o}=e,{postType:i}=a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{attributes:e,setAttributes:t,postType:i}),(0,r.jsx)(u,{attributes:e,setAttributes:t}),(0,r.jsx)("section",{...s,children:(0,r.jsxs)("p",{children:["The field '",o,"' will be displayed"]})})]})}})})();