(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.element,n=window.wp.data,s=window.wp.coreData,r=window.wp.components,i=window.ReactJSXRuntime,l=(0,a.memo)(({attributes:e,setAttributes:a})=>{const{taxonomy:l,categoryTermId:m,mainUrl:u,mainTitle:c,showBreadcrumbs:x,showCount:h,showCategories:d}=e,b=(0,n.useSelect)(e=>{const t=e(s.store).getTaxonomies();return t?.filter(e=>!0===e.hierarchical)||[]}),_=(0,n.useSelect)(e=>(e(s.store).getEntityRecords("taxonomy",l,{per_page:-1,hide_empty:!1})||[]).map(e=>({value:`${e.id}`,label:e.name})));return(0,i.jsx)(o.InspectorControls,{group:"settings",children:(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,t.__)("Taxonomy","theme-taxonomy-filter"),value:l,options:[{value:"none",label:"Leave it on current page"},...b.map(e=>({value:e.slug,label:e.name}))],onChange:e=>a({taxonomy:e})})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,t.__)("Category","theme-taxonomy-filter"),value:m,options:[{value:"",label:"None"},..._],onChange:e=>a({categoryTermId:e}),disabled:"none"===l})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,t.__)("Main URL (optional)","theme-taxonomy-filter"),value:u,onChange:e=>a({mainUrl:e})})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,t.__)("Main title (optional)","theme-taxonomy-filter"),value:c,onChange:e=>a({mainTitle:e})})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Show breadcrumbs","theme-taxonomy-filter"),checked:x,onChange:e=>a({showBreadcrumbs:e})})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Show categories","theme-taxonomy-filter"),checked:d,onChange:e=>a({showCategories:e})})}),(0,i.jsx)("fieldset",{children:(0,i.jsx)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Show count","theme-taxonomy-filter"),checked:h,disabled:!d,onChange:e=>a({showCount:e})})})]})})},(e,t)=>e.attributes.taxonomy===t.attributes.taxonomy&&e.attributes.categoryTermId===t.attributes.categoryTermId&&e.attributes.mainUrl===t.attributes.mainUrl&&e.attributes.mainTitle===t.attributes.mainTitle&&e.attributes.showBreadcrumbs===t.attributes.showBreadcrumbs&&e.attributes.showCount===t.attributes.showCount&&e.attributes.showCategories===t.attributes.showCategories),m=(0,a.memo)(({attributes:e,setAttributes:t})=>(0,i.jsx)(o.InspectorControls,{group:"styles"}),(e,t)=>!0),u=JSON.parse('{"UU":"po-personal/theme-taxonomy-hierarchy"}');(0,e.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:a}){const{taxonomy:n}=e,s=(0,o.useBlockProps)({className:"container"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{attributes:e,setAttributes:a}),(0,i.jsx)(m,{attributes:e,setAttributes:a}),(0,i.jsx)("div",{...s,children:(0,i.jsxs)("p",{children:[(0,t.__)("Taxonomy filter will be displayed based on: ","theme-taxonomy-hierarchy"),"none"===n?(0,t.__)("current page","theme-taxonomy-hierarchy"):n]})})]})}})})();